<!doctype html><html lang=de><head><title>Linux Pakete mit fpm bauen :: Philipp Weißmann</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Software installieren Unter den meisten Linux Distributionen wird Software zumeist via Paketmanager
installiert.
Gerade in der Software-Entwicklung kommt es aber immer wieder dazu, dass
man selbstkompilierte oder selbstentwickelte Software installieren muss.
Der übliche &amp;ldquo;Installationsmechanismus&amp;rdquo; via
./configure &amp;amp;&amp;amp; make &amp;amp;&amp;amp; make install führt jedoch dazu, dass die Software unversioniert installiert wird und eine
Deinstallation nur in mühseliger Handarbeit möglich ist.
Auch die Installation auf mehreren Rechner erfordert immer wieder den selben"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://philipp-weissmann.de/linux-pakete-mit-fpm-bauen/><link rel=stylesheet href=https://philipp-weissmann.de/styles.css><link rel="shortcut icon" href=https://philipp-weissmann.de/img/theme-colors/pink.png><link rel=apple-touch-icon href=https://philipp-weissmann.de/img/theme-colors/pink.png><meta name=twitter:card content="summary"><meta property="og:locale" content="de"><meta property="og:type" content="article"><meta property="og:title" content="Linux Pakete mit fpm bauen"><meta property="og:description" content="Software installieren Unter den meisten Linux Distributionen wird Software zumeist via Paketmanager
installiert.
Gerade in der Software-Entwicklung kommt es aber immer wieder dazu, dass
man selbstkompilierte oder selbstentwickelte Software installieren muss.
Der übliche &amp;ldquo;Installationsmechanismus&amp;rdquo; via
./configure &amp;amp;&amp;amp; make &amp;amp;&amp;amp; make install führt jedoch dazu, dass die Software unversioniert installiert wird und eine
Deinstallation nur in mühseliger Handarbeit möglich ist.
Auch die Installation auf mehreren Rechner erfordert immer wieder den selben"><meta property="og:url" content="https://philipp-weissmann.de/linux-pakete-mit-fpm-bauen/"><meta property="og:site_name" content="Philipp Weißmann"><meta property="og:image" content="https://philipp-weissmann.de/img/favicon/pink.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="Uncategorized"><meta property="article:published_time" content="2015-05-19 19:15:13 +0000 UTC"></head><body class=pink><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Philipp Weißmann</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/impressum>Impressum</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/impressum>Impressum</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://philipp-weissmann.de/linux-pakete-mit-fpm-bauen/>Linux Pakete mit fpm bauen</a></h1><div class=post-meta><time class=post-date>2015-05-19 ::
[Updated :: 2015-05-19]</time>
<span class=post-author>Philipp Weißmann</span></div><span class=post-tags>#<a href=https://philipp-weissmann.de/tags/administration/>Administration</a>&nbsp;
#<a href=https://philipp-weissmann.de/tags/linux/>Linux</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents></nav></div><div class=post-content><div><h1 id=software-installieren>Software installieren<a href=#software-installieren class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Unter den meisten Linux Distributionen wird Software zumeist via Paketmanager<br>installiert.<br>Gerade in der Software-Entwicklung kommt es aber immer wieder dazu, dass<br>man selbstkompilierte oder selbstentwickelte Software installieren muss.</p><p>Der übliche &ldquo;Installationsmechanismus&rdquo; via</p><pre><code>./configure &amp;&amp; make &amp;&amp; make install
</code></pre><p>führt jedoch dazu, dass die Software unversioniert installiert wird und eine<br>Deinstallation nur in mühseliger Handarbeit möglich ist.<br>Auch die Installation auf mehreren Rechner erfordert immer wieder den selben<br>Aufwand und eine Updatemöglichkeit gibt es ebenfalls nicht.</p><h1 id=pakete>Pakete<a href=#pakete class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Die optimale Lösung für unser Problem ist natürlich die Erstellung eines<br>eigenen Pakets:<br>Das Paket wird ein einziges Mal gebaut, kann jederzeit deinstalliert werden<br>und die Version des Pakets ist ebenfalls protokolliert, so dass später Updates<br>möglich sind.</p><p>Das Problem daran ist, dass das Entwickeln von Paketen recht Aufwändig ist.<br>Eine Abhilfe schafft hierbei das<br>Werkzeug <a href=https://github.com/jordansissel/fpm>fpm</a>.</p><h1 id=installation>Installation<a href=#installation class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Zunächst stellen wir sicher, dass auf unserem Rechner das Paket <code>ruby-dev</code><br>installiert ist:</p><p>Bei auf Debian basierenden Systemen (z.B. Ubuntu):</p><pre><code>sudo apt-get install install ruby-dev
</code></pre><p>Bei auf RedHat basierenden Systemen (z.B. CentOS):</p><pre><code>sudo yum install fpm
</code></pre><p>Nun können wir mit dem Ruby Paketinstaller <code>gem</code> das Programm installieren:</p><pre><code>gem install fpm
</code></pre><p>Nun sollte das Programm <code>fpm</code> auf der Kommandozeile zur Verfügung stehen.</p><h1 id=paket-bauen>Paket bauen<a href=#paket-bauen class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Wir haben nun unsere Software wie zuvor und bauen diese - jedoch mit einem<br>Präfix, z.B.:</p><pre><code>mkdir /tmp/place_to_install
./configure &amp;&amp; make &amp;&amp; make install DESTDIR=/tmp/place_to_install
</code></pre><p>Wenn wir nun an den Ort <code>/tmp/place_to_install</code> schauen, sehen wir dort die<br>installierten Daten. Diese sollen nun in unser Paket kommen.<br>Diese bauen wir mit:</p><pre><code>fpm -s dir -t rpm -n myprogram -v 0.1.2 -C /tmp/place_to_install bin lib
</code></pre><p>Hierbei stehen die Parameter für:</p><ul><li><code>-s dir</code>: Das Paket wird aus einem Verzeichnis gebaut (andere Möglichkeiten u.a. Python Module, rpm Dateien usw.)</li><li><code>-t rpm</code>: Es soll ein rpm-Paket gebaut werden. Auch deb-Pakete sind möglich</li><li><code>-n myprogram</code>: Der Name des Pakets</li><li><code>-v 0.1.2</code>: Die Version des Pakets</li><li><code>-C /tmp/place_to_install</code>: Das Verzeichnis, in dem sich die Dateien befinden</li><li><code>bin lib</code>: Die Dateien/Verzeichnisse in dem Verzeichnis, welche auch wirklich im Zielsystem installiert werden sollen</li></ul><p>Nach kurzer Wartezeit purzelt aus dem Werkzeugs ein installierbares Paket heraus.</p><h1 id=fazit>Fazit<a href=#fazit class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Mit fpm lassen sich bequem, schnell und einfach Pakete bauen.<br>Natürlich berücksichtigt das hier erstellte Paket keinerlei Abhängigkeiten und<br>es werden auch nicht alle Möglichkeiten und Funktionen des Paketmanagements genutzt, aber<br>in der Praxis erleichtert dies die Installation von Software - gerade in Teams<br>ungemein.</p><p>Jetzt nur noch ein Repository-Server aufgesetzt - und schon hat man im Team<br>eine komfortablen Weg Software bereit zu stellen.</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://philipp-weissmann.de/sharpkeys/><span class=button__icon>←</span>
<span class=button__text>Sharpkeys</span></a></span>
<span class="button next"><a href=https://philipp-weissmann.de/myrepos-alle-meine-repositories/><span class=button__text>Myrepos: Alle meine Repositories</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>