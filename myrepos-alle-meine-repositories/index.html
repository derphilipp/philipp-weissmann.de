<!doctype html><html lang=de><head><title>Myrepos: Alle meine Repositories :: Philipp Weißmann</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Repository-Zentrale Dank VCSH habe ich all meine Dotfiles hübsch in Git-Repositories verpackt.
Das Einbinden eines einzelnen Repositories geht nun zwar schnell von der Hand,
aber wenn nun für vim und mutt und emacs und und und &amp;hellip; lauter
Repositories vorliegen wird es unbequem.
Auch das updaten (pull) jedes einzelnen Repos ist sehr mühselig und damit
fehleranfällig.
Abhilfe schafft hier myrepos (kurz mr),
dass es erlaubt Aktionen auf mehreren Repositories auszuführen.
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/myrepos-alle-meine-repositories/><link rel=stylesheet href=/styles.css><link rel="shortcut icon" href=/img/theme-colors/pink.png><link rel=apple-touch-icon href=/img/theme-colors/pink.png><meta name=twitter:card content="summary"><meta property="og:locale" content="de"><meta property="og:type" content="article"><meta property="og:title" content="Myrepos: Alle meine Repositories"><meta property="og:description" content="Repository-Zentrale Dank VCSH habe ich all meine Dotfiles hübsch in Git-Repositories verpackt.
Das Einbinden eines einzelnen Repositories geht nun zwar schnell von der Hand,
aber wenn nun für vim und mutt und emacs und und und &amp;hellip; lauter
Repositories vorliegen wird es unbequem.
Auch das updaten (pull) jedes einzelnen Repos ist sehr mühselig und damit
fehleranfällig.
Abhilfe schafft hier myrepos (kurz mr),
dass es erlaubt Aktionen auf mehreren Repositories auszuführen.
"><meta property="og:url" content="/myrepos-alle-meine-repositories/"><meta property="og:site_name" content="Philipp Weißmann"><meta property="og:image" content="/img/favicon/pink.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="Uncategorized"><meta property="article:published_time" content="2015-05-17 13:15:05 +0000 UTC"></head><body class=pink><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/posts><div class=logo>Philipp Weißmann</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/impressum>Impressum</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/impressum>Impressum</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=/myrepos-alle-meine-repositories/>Myrepos: Alle meine Repositories</a></h1><div class=post-meta><time class=post-date>2015-05-17 ::
[Updated :: 2015-05-17]</time>
<span class=post-author>Philipp Weißmann</span></div><span class=post-tags>#<a href=/tags/administration/>Administration</a>&nbsp;
#<a href=/tags/git/>Git</a>&nbsp;
#<a href=/tags/linux/>Linux</a>&nbsp;
#<a href=/tags/macos/>macOS</a>&nbsp;
#<a href=/tags/produktivit%C3%A4t/>Produktivität</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents></nav></div><div class=post-content><div><h1 id=repository-zentrale>Repository-Zentrale<a href=#repository-zentrale class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Dank VCSH habe ich all meine Dotfiles hübsch in Git-Repositories verpackt.<br>Das Einbinden eines einzelnen Repositories geht nun zwar schnell von der Hand,<br>aber wenn nun für <code>vim</code> und <code>mutt</code> und <code>emacs</code> und und und &mldr; lauter<br>Repositories vorliegen wird es unbequem.<br>Auch das updaten (<code>pull</code>) jedes einzelnen Repos ist sehr mühselig und damit<br>fehleranfällig.</p><p>Abhilfe schafft hier <a href=https://myrepos.branchable.com/>myrepos</a> (kurz <code>mr</code>),<br>dass es erlaubt Aktionen auf mehreren Repositories auszuführen.</p><h1 id=installation>Installation<a href=#installation class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Wir installieren uns das Paket <code>myrepos</code> via <code>apt-get</code> oder <code>yaourt</code></p><p>Installation unter Debian/Ubuntu:</p><pre><code>sudo apt-get install myrepos
</code></pre><p>oder unter Arch Linux</p><pre><code>yaourt -S myrepos
</code></pre><h1 id=basis-konfiguration>Basis-Konfiguration<a href=#basis-konfiguration class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Wir legen eine Konfigurationsdatei mit dem Namen <code>~/.mrconfig</code> an mit folgendem<br>Inhalt:</p><pre><code>[DEFAULT]
git_gc = git gc &quot;$@&quot;
jobs = 1
include = cat ~/.config/mr/config.d/*
</code></pre><p>Wenn nach allen Schritten die Konfiguration zuverlässig installiert können wir<br>die Anzahl der parallelen Jobs auf z.B. 4 erhöhen.</p><p>Nun legen wir folgende Verzeichnisse an:</p><pre><code>mkdir -p ~/.config/mr/config.d
mkdir ~/.config/mr/available.d
</code></pre><p>In das Verzeichnis <code>available.d</code> legen wir alle Konfigurationsdateien ab.</p><p>Eine solche Konfigurationsdatei enthält den Ort Zielort des Repositories<br>und auch die Anweisung, woher die Quelle kommt.</p><p>Die Datei für eine <code>vim</code>-VCSH-Konfiguration könnte z.B. so aussehen:</p><p>Dateiname: <code>vim.vcsh</code></p><pre><code>[$HOME/.config/vcsh/repo.d/vim.git]
checkout = vcsh clone git@MEINGITSERVER:vim vim
</code></pre><p>Dabei kann myrepos vcsh oder direkt git oder auch subversion (u.v.m.) nutzen.</p><p>Nun linke (<code>ln -s</code>) ich noch alle die Konfigurationsdateien nach <code>available.d</code>,<br>die auch wirklich auf all meinen Systemen nutzen möchte.</p><p>Mit dem Aufruf</p><pre><code>mr up
</code></pre><p>Aktualisiere (z.B. bei git: pull) ich nun alle Repositories, die ich via<br>myrepos verwalte. Somit kann ich beim Wechsel von Rechnern einfach meine<br>Konfiguration aktualisieren.</p><p>Auch pushen von allen Repositories ist möglich:</p><pre><code>mr push
</code></pre><p>usw.</p><h1 id=myrepos-in-vcsh>Myrepos in VCSH<a href=#myrepos-in-vcsh class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Auch die Konfiguration von myrepos selbst verwalte ich mit vcsh (und<br>wiederum mit Datei-Eintrag in myrepos), so dass sich auch beim Hinzukommen<br>von neuen Repositories ich diese auf meinen Geräten erhalte.</p><h1 id=neuer-rechner---einfacher-schritt>Neuer Rechner - einfacher Schritt<a href=#neuer-rechner---einfacher-schritt class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Bei einem neuen Rechner sind nun extrem wenige Schritte notwendig:</p><ol><li>Installieren von vcsh und myrepos (gibt es zumeist im Paketmanager)</li><li>Klonen des myrepos vcsh repositories (d.h. <code>vcsh clone git@MEINGITSERVER:mr mr</code>)</li><li>Klonen aller weiteren Repos via <code>mr up</code></li></ol><h1 id=sonderfälle>Sonderfälle<a href=#sonderfälle class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Auch einfache Programme (z.B. <a href=https://rg3.github.io/youtube-dl/>youtube-dl</a>)<br>installiere (und update) ich via myrepos: Hierzu leg ich ich wieder eine<br>Konfigurationsdatei an (z.B. <code>youtube-dl.git</code>) mit folgendem Inhalt:</p><pre><code>[$HOME/.local/opt/youtube-dl.git]
checkout = git clone https://github.com/rg3/youtube-dl.git $HOME/.local/opt/youtube-dl.git
push = echo &quot;No pushing to public repo&quot;
</code></pre><p>Der <code>push</code> Befehl wird hier explizit überschrieben und gibt bei <code>mr push</code> einfach die<br>Nachricht aus, dass ich in dieses Repository nicht pushen möchte.</p><h1 id=fazit>Fazit<a href=#fazit class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Myrepos ermöglicht das einfache und bequeme Verwalten und Nutzen von vielen<br>Repositories. Gerade das Updaten oder initiale Klonen wird damit deutlich<br>bequemer. Insbesondere im Zusammenspiel mit VCSH wird eine extrem komfortable<br>Verwaltung der eigenen Dotfiles (und mehr) möglich.</p></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>